include "h2-default-projection-schema.conf"

akka {
  log-level = DEBUG

  http.server.enable-http2 = on
}

akka.persistence.r2dbc {
  query {
    refresh-interval = 500 millis
    # reducing this to have quicker test, triggers backtracking earlier
    backtracking.behind-current-time = 3 seconds
  }
  journal.publish-events-number-of-topics = 2
}

akka.persistence.r2dbc.connection-factory = ${akka.persistence.r2dbc.h2}
akka.persistence.r2dbc.connection-factory {
  additional-init = ${akka.projection.r2dbc.default-h2-schema}
  protocol = "file"
  database = "drone-db"
}
